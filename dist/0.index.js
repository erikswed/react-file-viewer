(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var l=typeof o;if("string"===l||"number"===l)e.push(o);else if(Array.isArray(o)&&o.length){var i=r.apply(null,o);i&&e.push(i)}else if("object"===l)for(var c in o)n.call(o,c)&&o[c]&&e.push(c)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()},35:function(e,t,n){var o,r,l;r=[],void 0===(l="function"==typeof(o=function(){"use strict";var e=["|","^"],t=[",",";","\t","|","^"],n=["\r\n","\r","\n"],o=Array.isArray||function(e){return"[object Array]"===toString.call(e)};function r(e){return"string"==typeof e}function l(e,t){return function(e){return null!=e}(e)?e:t}function i(e,t){for(var n=0,o=e.length;n<o&&!1!==t(e[n],n);n+=1);}function c(e){return e.replace(/"/g,'\\"')}function a(e){return"attrs["+e+"]"}function s(e,t){return isNaN(Number(e))?function(e){return 0==e||1==e}(e)?"Boolean("+a(t)+" == true)":"String("+a(t)+")":"Number("+a(t)+")"}function u(e,t,n,l){var u=[];return 3==arguments.length?(t?o(t)?i(n,(function(n,o){r(t[o])?t[o]=t[o].toLowerCase():e[t[o]]=t[o],u.push("deserialize[cast["+o+"]]("+a(o)+")")})):i(n,(function(e,t){u.push(s(e,t))})):i(n,(function(e,t){u.push(a(t))})),u="return ["+u.join(",")+"]"):(t?o(t)?i(n,(function(n,o){r(t[o])?t[o]=t[o].toLowerCase():e[t[o]]=t[o],u.push('"'+c(l[o])+'": deserialize[cast['+o+"]]("+a(o)+")")})):i(n,(function(e,t){u.push('"'+c(l[t])+'": '+s(e,t))})):i(n,(function(e,t){u.push('"'+c(l[t])+'": '+a(t))})),u="return {"+u.join(",")+"}"),new Function("attrs","deserialize","cast",u)}function d(t,n){var o,r=0;return i(n,(function(n){var l,i=n;-1!=e.indexOf(n)&&(i="\\"+i),(l=t.match(new RegExp(i,"g")))&&l.length>r&&(r=l.length,o=n)})),o||n[0]}var f=function(){function e(e,i){if(i||(i={}),o(e))this.mode="encode";else{if(!r(e))throw new Error("Incompatible format!");this.mode="parse"}this.data=e,this.options={header:l(i.header,!1),cast:l(i.cast,!0)};var c=i.lineDelimiter||i.line,a=i.cellDelimiter||i.delimiter;this.isParser()?(this.options.lineDelimiter=c||d(this.data,n),this.options.cellDelimiter=a||d(this.data,t),this.data=function(e,t){return e.slice(-t.length)!=t&&(e+=t),e}(this.data,this.options.lineDelimiter)):this.isEncoder()&&(this.options.lineDelimiter=c||"\r\n",this.options.cellDelimiter=a||",")}function c(e,t,n,o,r){e(new t(n,o,r))}function a(e){return o(e)?"array":function(e){var t=typeof e;return"function"===t||"object"===t&&!!e}(e)?"object":r(e)?"string":null==e?"null":"primitive"}return e.prototype.set=function(e,t){return this.options[e]=t},e.prototype.isParser=function(){return"parse"==this.mode},e.prototype.isEncoder=function(){return"encode"==this.mode},e.prototype.parse=function(e){if("parse"==this.mode){if(0===this.data.trim().length)return[];var t,n,r,l=this.data,i=this.options,a=i.header,s={cell:"",line:[]},d=this.deserialize;e||(r=[],e=function(e){r.push(e)}),1==i.lineDelimiter.length&&(v=E);var f,m,h,w=l.length,g=i.cellDelimiter.charCodeAt(0),p=i.lineDelimiter.charCodeAt(i.lineDelimiter.length-1);for(C(),f=0,m=0;f<w;f++)h=l.charCodeAt(f),t.cell&&(t.cell=!1,34==h)?t.escaped=!0:t.escaped&&34==h?t.quote=!t.quote:(t.escaped&&t.quote||!t.escaped)&&(h==g?(E(s.cell+l.slice(m,f)),m=f+1):h==p&&(v(s.cell+l.slice(m,f)),m=f+1,(s.line.length>1||""!==s.line[0])&&x(),s.line=[]));return r||this}function C(){t={escaped:!1,quote:!1,cell:!0}}function E(e){s.line.push(t.escaped?e.slice(1,-1).replace(/""/g,'"'):e),s.cell="",C()}function v(e){E(e.slice(0,1-i.lineDelimiter.length))}function x(){a?o(a)?(n=u(d,i.cast,s.line,a),(x=function(){c(e,n,s.line,d,i.cast)})()):a=s.line:(n||(n=u(d,i.cast,s.line)),(x=function(){c(e,n,s.line,d,i.cast)})())}},e.prototype.deserialize={string:function(e){return String(e)},number:function(e){return Number(e)},boolean:function(e){return Boolean(e)}},e.prototype.serialize={object:function(e){var t=this,n=Object.keys(e),o=Array(n.length);return i(n,(function(n,r){o[r]=t[a(e[n])](e[n])})),o},array:function(e){var t=this,n=Array(e.length);return i(e,(function(e,o){n[o]=t[a(e)](e)})),n},string:function(e){return'"'+String(e).replace(/"/g,'""')+'"'},null:function(e){return""},primitive:function(e){return e}},e.prototype.encode=function(e){if("encode"==this.mode){if(0==this.data.length)return"";var t,n,l=this.data,c=this.options,s=c.header,u=l[0],d=this.serialize,f=0;e||(n=Array(l.length),e=function(e,t){n[t+f]=e}),s&&(o(s)||(s=t=Object.keys(u)),e(w(d.array(s)),0),f=1);var m,h=a(u);return"array"==h?(o(c.cast)?(m=Array(c.cast.length),i(c.cast,(function(e,t){r(e)?m[t]=e.toLowerCase():(m[t]=e,d[e]=e)}))):(m=Array(u.length),i(u,(function(e,t){m[t]=a(e)}))),i(l,(function(t,n){var o=Array(m.length);i(t,(function(e,t){o[t]=d[m[t]](e)})),e(w(o),n)}))):"object"==h&&(t=Object.keys(u),o(c.cast)?(m=Array(c.cast.length),i(c.cast,(function(e,t){r(e)?m[t]=e.toLowerCase():(m[t]=e,d[e]=e)}))):(m=Array(t.length),i(t,(function(e,t){m[t]=a(u[e])}))),i(l,(function(n,o){var r=Array(t.length);i(t,(function(e,t){r[t]=d[m[t]](n[e])})),e(w(r),o)}))),n?n.join(c.lineDelimiter):this}function w(e){return e.join(c.cellDelimiter)}},e.prototype.forEach=function(e){return this[this.mode](e)},e}();return f.parse=function(e,t){return new f(e,t).parse()},f.encode=function(e,t){return new f(e,t).encode()},f.forEach=function(e,t,n){return 2==arguments.length&&(n=t),new f(e,t).forEach(n)},f})?o.apply(t,r):o)||(e.exports=l)},39:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _})),n.d(t,"Cell",(function(){return T})),n.d(t,"Row",(function(){return z})),n.d(t,"SelectColumn",(function(){return H})),n.d(t,"SelectCellFormatter",(function(){return W})),n.d(t,"SimpleCellFormatter",(function(){return K})),n.d(t,"ValueFormatter",(function(){return P})),n.d(t,"SimpleTextEditor",(function(){return u})),n.d(t,"CellNavigationMode",(function(){return p})),n.d(t,"UpdateActions",(function(){return C}));var o=n(0),r=n.n(o);class l{constructor(){this.subscribers=new Map}subscribe(e,t){this.subscribers.has(e)||this.subscribers.set(e,new Set);const n=this.subscribers.get(e);return n.add(t),()=>{n.delete(t)}}dispatch(e,...t){const n=this.subscribers.get(e);n&&n.forEach(e=>e(...t))}}var i=n(29),c=n.n(i),a=Object(o.forwardRef)((function({width:e,height:t,top:n,left:o,zIndex:l,className:i,...a},s){return r.a.createElement("div",Object.assign({className:c()("rdg-cell-mask",i),style:{height:t,width:e,zIndex:l,transform:`translate(${o}px, ${n}px)`},"data-test":"cell-mask",ref:s},a))}));function s({draggedPosition:e,getSelectedDimensions:t}){const{overRowIdx:n,idx:o,rowIdx:l}=e;if(l===n)return null;const i=l<n,c=i?l+1:n,s=i?n:l-1,u=i?"react-grid-cell-dragged-over-down":"react-grid-cell-dragged-over-up",d=t({idx:o,rowIdx:c});for(let e=c+1;e<=s;e++){const{height:n}=t({idx:o,rowIdx:e});d.height+=n}return r.a.createElement(a,Object.assign({},d,{className:u}))}class u extends r.a.Component{constructor(){super(...arguments),this.input=r.a.createRef()}getInputNode(){return this.input.current}getValue(){return{[this.props.column.key]:this.input.current.value}}render(){return r.a.createElement("input",{className:"rdg-text-editor",ref:this.input,defaultValue:this.props.value,onBlur:this.props.onCommit})}}function d({onClickOutside:e,children:t}){const n=Object(o.useRef)(!1);return Object(o.useEffect)(()=>{function t(){n.current?n.current=!1:e()}return document.addEventListener("click",t),()=>{document.removeEventListener("click",t)}},[e]),r.a.cloneElement(r.a.Children.only(t),{onClickCapture(){n.current=!0}})}let f;function m(){if(void 0===f){const e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),f=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return f}function h(e){e.preventDefault()}function w(e,t){return void 0===t?e:function(n){e(n),t(n)}}function g({rowIdx:e,column:t,row:n,rowHeight:l,left:i,top:a,onCommit:s,onCommitCancel:f,scrollLeft:m,scrollTop:w,firstEditorKeyPress:g}){const p=Object(o.useRef)(null),C=Object(o.useRef)(!1),E=Object(o.useRef)(!1),[v,x]=Object(o.useState)(!0),b=Object(o.useRef)(m),y=Object(o.useRef)(w),R=Object(o.useRef)(!1),I=Object(o.useCallback)(()=>{var e;return null===(e=p.current)||void 0===e?void 0:e.getInputNode()},[]),O=Object(o.useCallback)(()=>{E.current=!0,f()},[f]);function k(){const e=n[t.key];return"Delete"===g||"Backspace"===g?"":"Enter"===g?e:g||e}function S(e){return"ArrowLeft"===e&&!function(){const e=I();return e instanceof HTMLInputElement&&0===e.selectionEnd}()||"ArrowRight"===e&&!function(){const e=I();return e instanceof HTMLInputElement&&e.selectionStart===e.value.length}()||"Escape"===e&&null!==(o=null===(n=null===(t=p.current)||void 0===t?void 0:t.isSelectOpen)||void 0===n?void 0:n.call(t))&&void 0!==o&&o||["ArrowUp","ArrowDown"].includes(e)&&function(){var e,t,n;return null!==(n=null===(t=null===(e=p.current)||void 0===e?void 0:e.hasResults)||void 0===t?void 0:t.call(e))&&void 0!==n&&n}();var t,n,o}function L(){if(!p.current)return;const n=p.current.getValue();if(function(e){var t,n;const o=null===(n=null===(t=p.current)||void 0===t?void 0:t.validate)||void 0===n?void 0:n.call(t,e);return"boolean"!=typeof o||(x(o),o)}(n)){C.current=!0;const o=t.key;s({cellKey:o,rowIdx:e,updated:n})}}function D(e){S(e.key)?e.stopPropagation():["Enter","Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(e.key)?L():"Escape"===e.key&&O()}Object(o.useLayoutEffect)(()=>{const e=I();e instanceof HTMLElement&&e.focus(),e instanceof HTMLInputElement&&e.select()},[I]),Object(o.useEffect)(()=>{m===b.current&&w===y.current||O()},[O,m,w]),Object(o.useEffect)(()=>()=>{R.current=!0},[]),Object(o.useEffect)(()=>()=>{!R.current||C.current||E.current||L()});const j=c()("rdg-editor-container",{"rdg-editor-invalid":!v});return r.a.createElement(d,{onClickOutside:L},r.a.createElement("div",{className:j,style:{height:l,width:t.width,left:i,top:a},onKeyDown:D,onContextMenu:h},t.editor?r.a.createElement(t.editor,{ref:p,column:t,value:k(),row:n,height:l,onCommit:L,onCommitCancel:O,onOverrideKeyDown:D}):r.a.createElement(u,{ref:p,column:t,value:k(),onCommit:L})))}var p,C,E=n(20),v=n.n(E);function x({target:e,children:t}){const[n,r]=Object(o.useState)(!1);return Object(o.useLayoutEffect)(()=>{r(!0)},[]),n?v.a.createPortal(t,e):null}function b(e){return(t=e.keyCode)>47&&t<58||32===t||13===t||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223||["Backspace","Delete"].includes(e.key);var t}function y({key:e,width:t},n,o){return n.has(e)?n.get(e):"number"==typeof t?t:"string"==typeof t&&/^\d+%$/.test(t)?Math.floor(o*parseInt(t,10)/100):void 0}function R(e,{minWidth:t,maxWidth:n},o){return e=Math.max(e,null!=t?t:o),"number"==typeof n?Math.min(e,n):e}!function(e){e.NONE="none",e.CHANGE_ROW="changeRow",e.LOOP_OVER_ROW="loopOverRow"}(p||(p={})),function(e){e.CELL_UPDATE="CELL_UPDATE",e.COLUMN_FILL="COLUMN_FILL",e.COPY_PASTE="COPY_PASTE",e.CELL_DRAG="CELL_DRAG"}(C||(C={}));function I({selectedPosition:e,columns:t,rows:n,onCheckCellIsEditable:o}){const r=t[e.idx],l=n[e.rowIdx];return(!o||o({row:l,column:r,...e}))&&function(e,t){return"function"==typeof e.editable?e.editable(t):Boolean(e.editor||e.editable)}(r,l)}function O({columns:e,rows:t,rowHeight:n,eventBus:l,enableCellAutoFocus:i,enableCellCopyPaste:c,enableCellDragAndDrop:u,editorPortalTarget:d,cellNavigationMode:f,gridRef:m,totalHeaderHeight:h,scrollLeft:w,scrollTop:E,onSelectedCellChange:v,onCheckCellIsEditable:y,onRowsUpdate:R,scrollToCell:O}){const[k,S]=Object(o.useState)(()=>i&&document.activeElement===document.body&&e.length>0&&t.length>0?{idx:0,rowIdx:0,status:"SELECT"}:{idx:-1,rowIdx:-1,status:"SELECT"}),[L,D]=Object(o.useState)(null),[j,N]=Object(o.useState)(null),A=Object(o.useRef)(null);Object(o.useEffect)(()=>{var e;-1!==k.rowIdx&&-1!==k.idx&&"EDIT"!==k.status&&(null===(e=A.current)||void 0===e||e.focus())},[k]),Object(o.useEffect)(()=>l.subscribe("SELECT_CELL",P)),Object(o.useEffect)(()=>{if(null===j)return;return l.subscribe("DRAG_ENTER",e=>{N({...j,overRowIdx:e})})},[j,l]);const T=Object(o.useCallback)(()=>{S(({idx:e,rowIdx:t})=>({idx:e,rowIdx:t,status:"SELECT"}))},[]);function z(n,o=f,r=!1){const{idx:l,rowIdx:i}=k;let c;switch(n){case"ArrowUp":c={idx:l,rowIdx:i-1};break;case"ArrowDown":c={idx:l,rowIdx:i+1};break;case"ArrowLeft":c={idx:l-1,rowIdx:i};break;case"ArrowRight":c={idx:l+1,rowIdx:i};break;case"Tab":c={idx:l+(r?-1:1),rowIdx:i};break;default:c={idx:l,rowIdx:i}}return function({cellNavigationMode:e,columns:t,rowsCount:n,nextPosition:o}){if(e!==p.NONE){const{idx:r,rowIdx:l}=o,i=t.length,c=-1===r;if(r===i){if(e===p.CHANGE_ROW){if(!(l===n-1))return{idx:0,rowIdx:l+1}}else if(e===p.LOOP_OVER_ROW)return{rowIdx:l,idx:0}}else if(c)if(e===p.CHANGE_ROW){if(!(0===l))return{rowIdx:l-1,idx:i-1}}else if(e===p.LOOP_OVER_ROW)return{rowIdx:l,idx:i-1}}return o}({columns:e,rowsCount:t.length,cellNavigationMode:o,nextPosition:c})}function M({idx:n,rowIdx:o}){return o>=0&&o<t.length&&n>=0&&n<e.length}function F(n){return M(n)&&I({columns:e,rows:t,selectedPosition:n,onCheckCellIsEditable:y})}function P(e,t=!1){M(e)&&(t&&F(e)?S({...e,status:"EDIT",key:null}):S({...e,status:"SELECT"}),O(e),null==v||v({...e}))}function _(t){return function({selectedPosition:{idx:e,rowIdx:t},columns:n,rowHeight:o,scrollLeft:r}){if(e<0)return{width:0,left:0,top:0,height:o,zIndex:1};const l=n[e],{width:i}=l;return{width:i,left:l.frozen?l.left+r:l.left,top:t*o,height:o,zIndex:l.frozen?2:1}}({selectedPosition:t,columns:e,scrollLeft:w,rowHeight:n})}return(k.idx>e.length||k.rowIdx>t.length)&&(S({idx:-1,rowIdx:-1,status:"SELECT"}),D(null),N(null)),r.a.createElement("div",{onKeyDown:function(n){var o;const r=e[k.idx],l=t[k.rowIdx],i=!0===(null!==(o=r.unsafe_onCellInput)&&void 0!==o?o:b)(n,l),{key:a}=n;if(c&&((!0===(s=n).ctrlKey||!0===s.metaKey)&&"Control"!==s.key)){const o=n.key.toLowerCase();if("c"===o)return function(){const{idx:n,rowIdx:o}=k,r=t[o][e[n].key];D({idx:n,rowIdx:o,value:r})}();if("v"===o)return function(){if(null===L||!F(k))return;const{rowIdx:t}=k,n=e[k.idx].key,{rowIdx:o,idx:r,value:l}=L,i=e[r].key;R({cellKey:n,fromRow:o,toRow:t,updated:{[n]:l},action:C.COPY_PASTE,fromCellKey:i})}()}var s;const u="SELECT"===k.status&&F(k);switch(a){case"Enter":u?S(({idx:e,rowIdx:t})=>({idx:e,rowIdx:t,status:"EDIT",key:"Enter"})):"EDIT"===k.status&&S(({idx:e,rowIdx:t})=>({idx:e,rowIdx:t,status:"SELECT"}));break;case"Escape":T(),D(null);break;case"Tab":!function(n){if(function(e,{cellNavigationMode:t,columns:n,rowsCount:o,selectedPosition:{rowIdx:r,idx:l}}){if(t===p.NONE||t===p.CHANGE_ROW){const t=l===n.length-1,i=0===l,c=r===o-1,a=0===r;return!0===e.shiftKey?i&&a:t&&c}return!1}(n,{cellNavigationMode:f,columns:e,rowsCount:t.length,selectedPosition:k}))return"EDIT"===k.status?void T():void S({idx:-1,rowIdx:-1,status:"SELECT"});n.preventDefault();const o=f===p.NONE?p.CHANGE_ROW:f;P(z("Tab",o,n.shiftKey))}(n);break;case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":n.preventDefault(),P(z(a));break;default:u&&i&&S(({idx:e,rowIdx:t})=>({idx:e,rowIdx:t,status:"EDIT",key:a}))}}},L&&M(L)&&r.a.createElement(a,Object.assign({className:"rdg-cell-copied"},_(L))),j&&M(j)&&r.a.createElement(s,{draggedPosition:j,getSelectedDimensions:_}),"SELECT"===k.status&&M(k)&&r.a.createElement(a,Object.assign({className:"rdg-selected",tabIndex:0,ref:A},_(k)),u&&F(k)&&r.a.createElement("div",{className:"drag-handle",draggable:!0,onDragStart:function(e){e.dataTransfer.effectAllowed="copy";const t=JSON.stringify(k);try{e.dataTransfer.setData("text/plain",t)}catch(n){e.dataTransfer.setData("text",t)}N({...k,overRowIdx:k.rowIdx})},onDragEnd:function(){if(null===j)return;const{rowIdx:n,overRowIdx:o}=j,r=e[j.idx].key,l=t[n][r];R({cellKey:r,fromRow:n,toRow:o,updated:{[r]:l},action:C.CELL_DRAG}),N(null)},onDoubleClick:function(){const n=e[k.idx].key,o=t[k.rowIdx][n];R({cellKey:n,fromRow:k.rowIdx,toRow:t.length-1,updated:{[n]:o},action:C.COLUMN_FILL})}})),"EDIT"===k.status&&M(k)&&r.a.createElement(x,{target:d},r.a.createElement(g,Object.assign({firstEditorKeyPress:k.key,onCommit:function({cellKey:e,rowIdx:t,updated:n}){R({cellKey:e,fromRow:t,toRow:t,updated:n,action:C.CELL_UPDATE}),T()},onCommitCancel:T,rowIdx:k.rowIdx,row:t[k.rowIdx],rowHeight:n,column:e[k.idx],scrollLeft:w,scrollTop:E},function(){if(null===m.current)return{left:0,top:0};const{left:t,top:o}=m.current.getBoundingClientRect(),{scrollTop:r,scrollLeft:l}=document.scrollingElement||document.documentElement,i=t+l,c=o+r,a=e[k.idx];return{left:i+a.left-(a.frozen?0:w),top:c+h+k.rowIdx*n-E}}()))))}const k={ASC:"▲",DESC:"▼",NONE:""};function S({column:e,onSort:t,sortColumn:n,sortDirection:o,children:l}){return o=n===e.key&&o||"NONE",r.a.createElement("span",{className:"rdg-header-sort-cell",onClick:function(){if(!t)return;const n=e.sortDescendingFirst||!1;let r;switch(o){case"ASC":r=n?"NONE":"DESC";break;case"DESC":r=n?"ASC":"NONE";break;default:r=n?"DESC":"ASC"}t(e.key,r)}},r.a.createElement("span",{className:"rdg-header-sort-name"},l),r.a.createElement("span",null,k[o]))}function L({children:e,column:t,onResize:n}){function l(e,o){const r=e-o.getBoundingClientRect().left;r>0&&n(t,r)}return Object(o.cloneElement)(e,{onMouseDown:function(e){if(0!==e.button)return;const{currentTarget:t}=e,{right:n}=t.getBoundingClientRect(),o=n-e.clientX;if(o>11)return;const r=e=>{l(e.clientX+o,t)},i=()=>{window.removeEventListener("mousemove",r),window.removeEventListener("mouseup",i)};e.preventDefault(),window.addEventListener("mousemove",r),window.addEventListener("mouseup",i)},onTouchStart:function(e){const t=e.changedTouches[0],{identifier:n}=t,{currentTarget:o}=e,{right:r}=o.getBoundingClientRect(),i=r-t.clientX;if(i>11)return;function c(e){for(const t of e.changedTouches)if(t.identifier===n)return t;return null}const a=e=>{const t=c(e);t&&l(t.clientX+i,o)},s=e=>{c(e)&&(window.removeEventListener("touchmove",a),window.removeEventListener("touchend",s))};window.addEventListener("touchmove",a),window.addEventListener("touchend",s)},children:r.a.createElement(r.a.Fragment,null,e.props.children,r.a.createElement("div",{className:"rdg-header-cell-resizer"}))})}function D({column:e,lastFrozenColumnIndex:t,onResize:n,allRowsSelected:l,onAllRowsSelectionChange:i,sortColumn:a,sortDirection:s,onSort:u}){let d=e.headerRenderer?Object(o.createElement)(e.headerRenderer,{column:e,allRowsSelected:l,onAllRowsSelectionChange:i}):e.name;e.sortable&&(d=r.a.createElement(S,{column:e,onSort:u,sortColumn:a,sortDirection:s},d));const f=c()("rdg-cell",e.headerCellClass,{"rdg-cell-frozen":e.frozen,"rdg-cell-frozen-last":e.idx===t}),m={width:e.width,left:e.left};return d=r.a.createElement("div",{className:f,style:m},d),e.resizable&&(d=r.a.createElement(L,{column:e,onResize:n},d)),d}function j(e){if(void 0===e)throw new Error("Please specify the rowKey prop to use selection")}var N=Object(o.memo)((function({columns:e,lastFrozenColumnIndex:t,rows:n,rowKey:l,onSelectedRowsChange:i,allRowsSelected:c,onColumnResize:a,sortColumn:s,sortDirection:u,onSort:d}){const f=Object(o.useCallback)(e=>{if(!i)return;j(l);const t=new Set;if(e)for(const e of n)t.add(e[l]);i(t)},[i,n,l]);return r.a.createElement("div",{className:"rdg-header-row"},e.map(e=>r.a.createElement(D,{key:e.key,column:e,lastFrozenColumnIndex:t,onResize:a,allRowsSelected:c,onAllRowsSelectionChange:f,onSort:d,sortColumn:s,sortDirection:u})))}));var A=Object(o.memo)((function({columns:e,lastFrozenColumnIndex:t,filters:n,onFiltersChange:l}){return r.a.createElement("div",{className:"rdg-filter-row"},e.map(e=>{const{key:i}=e,a=c()("rdg-cell",{"rdg-cell-frozen":e.frozen,"rdg-cell-frozen-last":e.idx===t}),s={width:e.width,left:e.left};return r.a.createElement("div",{key:i,style:s,className:a},e.filterRenderer&&Object(o.createElement)(e.filterRenderer,{column:e,value:null==n?void 0:n[e.key],onChange:e=>function(e,t){const o={...n};o[e]=t,null==l||l(o)}(i,e)}))}))}));var T=Object(o.memo)(Object(o.forwardRef)((function({className:e,column:t,isRowSelected:n,lastFrozenColumnIndex:o,row:l,rowIdx:i,eventBus:a,onRowClick:s,onClick:u,onDoubleClick:d,onContextMenu:f,onDragOver:m,...g},p){function C(e){a.dispatch("SELECT_CELL",{idx:t.idx,rowIdx:i},e)}const{cellClass:E}=t;return e=c()("rdg-cell",{"rdg-cell-frozen":t.frozen,"rdg-cell-frozen-last":t.idx===o},"function"==typeof E?E(l):E,e),r.a.createElement("div",Object.assign({ref:p,className:e,style:{width:t.width,left:t.left},onClick:w((function(){C(),null==s||s(i,l,t)}),u),onDoubleClick:w((function(){C(!0)}),d),onContextMenu:w((function(){C()}),f),onDragOver:w(h,m)},g),r.a.createElement(t.formatter,{column:t,rowIdx:i,row:l,isRowSelected:n,onRowSelectionChange:function(e,t){a.dispatch("SELECT_ROW",{rowIdx:i,checked:e,isShiftClick:t})}}))})));var z=Object(o.memo)((function({cellRenderer:e=T,className:t,eventBus:n,rowIdx:o,isRowSelected:l,lastFrozenColumnIndex:i,onRowClick:a,row:s,viewportColumns:u,onDragEnter:d,onDragOver:f,onDrop:m,...g}){return t=c()("rdg-row","rdg-row-"+(o%2==0?"even":"odd"),{"rdg-row-selected":l},t),r.a.createElement("div",Object.assign({className:t,onDragEnter:w((function(e){e.preventDefault(),n.dispatch("DRAG_ENTER",o)}),d),onDragOver:w((function(e){e.preventDefault(),e.dataTransfer.dropEffect="copy"}),f),onDrop:w(h,m)},g),u.map(t=>r.a.createElement(e,{key:t.key,rowIdx:o,column:t,lastFrozenColumnIndex:i,row:s,isRowSelected:l,eventBus:n,onRowClick:a})))}));var M=Object(o.memo)((function({column:e,lastFrozenColumnIndex:t,row:n}){const{summaryFormatter:o,width:l,left:i,summaryCellClass:a}=e,s=c()("rdg-cell",{"rdg-cell-frozen":e.frozen,"rdg-cell-frozen-last":e.idx===t},"function"==typeof a?a(n):a);return r.a.createElement("div",{className:s,style:{width:l,left:i}},o&&r.a.createElement(o,{column:e,row:n}))}));var F=Object(o.memo)((function({rowIdx:e,lastFrozenColumnIndex:t,row:n,viewportColumns:o,bottom:l}){return r.a.createElement("div",{className:`rdg-row rdg-row-${e%2==0?"even":"odd"} rdg-summary-row`,style:{bottom:l}},o.map(e=>r.a.createElement(M,{key:e.key,column:e,lastFrozenColumnIndex:t,row:n})))}));function P(e){return r.a.createElement(r.a.Fragment,null,e.row[e.column.key])}var _=Object(o.forwardRef)((function({columns:e,rows:t,summaryRows:n,rowKey:i,onRowsUpdate:c,width:a,height:s=350,minColumnWidth:u=80,rowHeight:d=35,headerRowHeight:f=d,headerFiltersHeight:h=45,selectedRows:w,onSelectedRowsChange:g,sortColumn:C,sortDirection:E,onSort:v,filters:x,onFiltersChange:b,defaultFormatter:I=P,rowRenderer:k=z,emptyRowsRenderer:S,onRowClick:L,onScroll:D,onColumnResize:T,onSelectedCellChange:M,onCheckCellIsEditable:_,enableFilters:W=!1,enableCellAutoFocus:H=!0,enableCellCopyPaste:K=!1,enableCellDragAndDrop:B=!1,cellNavigationMode:U=p.NONE,editorPortalTarget:G=document.body},V){var q;const X=Object(o.useRef)(null),$=Object(o.useRef)(-1),[J]=Object(o.useState)(()=>new l),[Y,Q]=Object(o.useState)(0),[Z,ee]=Object(o.useState)(0),[te,ne]=Object(o.useState)(0),[oe,re]=Object(o.useState)(()=>new Map),le=(a||Y)-2,{columns:ie,lastFrozenColumnIndex:ce,totalColumnWidth:ae}=Object(o.useMemo)(()=>function(e){let t=0,n=0,o=0,r=0,l=-1;const i=[];for(const t of e.columns){let n=y(t,e.columnWidths,e.viewportWidth);void 0===n?r++:(n=R(n,t,e.minColumnWidth),o+=n);const c={...t,width:n};c.frozen?(l++,i.splice(l,0,c)):i.push(c)}const c=e.viewportWidth-o-m(),a=Math.max(Math.floor(c/r),e.minColumnWidth);return{columns:i.map((o,r)=>{var l,i;const c=null!==(l=o.width)&&void 0!==l?l:R(a,o,e.minColumnWidth),s={...o,idx:r,width:c,left:t,formatter:null!==(i=o.formatter)&&void 0!==i?i:e.defaultFormatter};return n+=c,t+=c,s}),lastFrozenColumnIndex:l,totalColumnWidth:n}}({columns:e,minColumnWidth:u,viewportWidth:le,columnWidths:oe,defaultFormatter:I}),[oe,e,I,u,le]),[se,ue]=Object(o.useMemo)(()=>function(e,t,n,o){const r=o+function(e,t){if(-1===t)return 0;const n=e[t];return n.left+n.width}(e,t),l=o+n,i=e.length-1,c=Math.min(t+1,i);if(r>=l)return[c,c];let a=c;for(;a<i;){const{left:t,width:n}=e[a];if(t+n>r)break;a++}let s=a;for(;s<i;){const{left:t,width:n}=e[s];if(t+n>=l)break;s++}return[Math.max(c,a-1),Math.min(i,s+1)]}(ie,ce,le,te),[te,ie,ce,le]),de=Object(o.useMemo)(()=>function(e,t,n){const o=[];for(let r=0;r<=n;r++){const n=e[r];r<t&&!n.frozen||o.push(n)}return o}(ie,se,ue),[ue,se,ie]),fe=f+(W?h:0),me=s-2-fe-(null!==(q=null==n?void 0:n.length)&&void 0!==q?q:0)*d-(ae>le?m():0),[he,we]=function(e,t,n,o){const r=Math.floor(n/t),l=Math.min(o-1,Math.floor((n+e)/t));return[Math.max(0,8*Math.floor((r-4)/8)),Math.min(o-1,8*Math.ceil((l+4)/8))]}(me,d,Z,t.length);Object(o.useLayoutEffect)(()=>{if("number"!=typeof a)return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)};function e(){Q(X.current.getBoundingClientRect().width)}},[a]),Object(o.useEffect)(()=>{if(!g)return;return J.subscribe("SELECT_ROW",({rowIdx:e,checked:n,isShiftClick:o})=>{j(i);const r=new Set(w),l=t[e][i];if(n){r.add(l);const n=$.current;if($.current=e,o&&-1!==n&&n!==e){const o=Math.sign(e-n);for(let l=n+o;l!==e;l+=o)r.add(t[l][i])}}else r.delete(l),$.current=-1;g(r)})},[J,g,t,i,w]),Object(o.useImperativeHandle)(V,()=>({scrollToColumn(e){pe({idx:e})},scrollToRow(e){const{current:t}=X;t&&(t.scrollTop=e*d)},selectCell(e,t){J.dispatch("SELECT_CELL",e,t)}}));const ge=Object(o.useCallback)((e,t)=>{const n=new Map(oe);n.set(e.key,t),re(n),null==T||T(e.idx,t)},[oe,T]);function pe({idx:e,rowIdx:t}){const{current:n}=X;if(n){if("number"==typeof e&&e>ce){const{clientWidth:t}=n,{left:o,width:r}=ie[e],l=o<te+r+function(){if(-1===ce)return 0;const e=ie[ce];return e.left+e.width}(),i=o+r>t+te;if(l||i){const o=function(e,t,n,o){let r=0,l=0;for(let n=0;n<t;n++){const t=e[n];t&&(t.width&&(r+=t.width),t.frozen&&(l+=t.width))}const i=e[t];if(i){const e=r-l-n,t=r+i.width-n;if(e<0)return e;if(t>o)return t-o}return 0}(ie,e,te,t);n.scrollLeft=te+o}}"number"==typeof t&&(t*d<Z?n.scrollTop=t*d:(t+1)*d>Z+me&&(n.scrollTop=(t+1)*d-me))}}return r.a.createElement("div",{className:"rdg",style:{width:a,height:s,"--header-row-height":f+"px","--filter-row-height":h+"px","--row-width":ae+"px","--row-height":d+"px"},ref:X,onScroll:function(e){const{scrollTop:t,scrollLeft:n}=e.currentTarget;ee(t),ne(n),null==D||D(e)}},r.a.createElement(N,{rowKey:i,rows:t,columns:de,onColumnResize:ge,lastFrozenColumnIndex:ce,allRowsSelected:(null==w?void 0:w.size)===t.length,onSelectedRowsChange:g,sortColumn:C,sortDirection:E,onSort:v}),W&&r.a.createElement(A,{lastFrozenColumnIndex:ce,columns:de,filters:x,onFiltersChange:b}),0===t.length&&S?Object(o.createElement)(S):r.a.createElement(r.a.Fragment,null,le>0&&r.a.createElement(O,{rows:t,rowHeight:d,columns:ie,enableCellAutoFocus:H,enableCellCopyPaste:K,enableCellDragAndDrop:B,cellNavigationMode:U,eventBus:J,gridRef:X,totalHeaderHeight:fe,scrollLeft:te,scrollTop:Z,scrollToCell:pe,editorPortalTarget:G,onCheckCellIsEditable:_,onRowsUpdate:function(e){null==c||c(e)},onSelectedCellChange:M}),r.a.createElement("div",{style:{height:he*d}}),function(){var e;const n=[];for(let o=he;o<=we;o++){const l=t[o];let c=o,a=!1;if(void 0!==i){const t=l[i];a=null!==(e=null==w?void 0:w.has(t))&&void 0!==e&&e,"string"!=typeof t&&"number"!=typeof t||(c=t)}n.push(r.a.createElement(k,{key:c,rowIdx:o,row:l,viewportColumns:de,lastFrozenColumnIndex:ce,eventBus:J,isRowSelected:a,onRowClick:L}))}return n}(),r.a.createElement("div",{style:{height:(t.length-1-we)*d}}),null==n?void 0:n.map((e,t)=>r.a.createElement(F,{key:t,rowIdx:t,row:e,bottom:d*(n.length-1-t),viewportColumns:de,lastFrozenColumnIndex:ce}))))}));function W({value:e,disabled:t=!1,onChange:n}){return r.a.createElement("label",{className:c()("rdg-checkbox-label",{"rdg-checkbox-label-disabled":t})},r.a.createElement("input",{type:"checkbox",className:"rdg-checkbox-input",disabled:t,onChange:function(e){n(e.target.checked,e.nativeEvent.shiftKey)},checked:e}),r.a.createElement("div",{className:"rdg-checkbox"}))}const H={key:"select-row",name:"",width:35,maxWidth:35,frozen:!0,headerRenderer:e=>r.a.createElement(W,{value:e.allRowsSelected,onChange:e.onAllRowsSelectionChange}),formatter:e=>r.a.createElement(W,{value:e.isRowSelected,onChange:e.onRowSelectionChange})};function K({row:e,column:t}){const n=e[t.key];return r.a.createElement("span",{title:String(n)},n)}}}]);